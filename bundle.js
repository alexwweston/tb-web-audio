!function(e){function n(r){if(o[r])return o[r].exports;var t=o[r]={exports:{},id:r,loaded:!1};return e[r].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var o={};return n.m=e,n.c=o,n.p="",n(0)}([function(e,n){"use strict";function o(e){function n(){var e=new(window.AudioContext||window.webkitAudioContext);return 44100!=e.sampleRate&&(e.close&&e.close(),e=new(window.AudioContext||window.webkitAudioContext)),e}function o(e,n,o,r){d=i.createBufferSource(),d.connect(u),d.buffer=e,d.loop=n,d.onended=o,d.start(0,r),c=r,l=i.currentTime}function r(){d&&(d.disconnect(),d.onended=null)}var t=this;e=e||300,"number"!=typeof e?(console.error(new TypeError("Size must be a number. Default size of 300 is used instead.")),e=300):(1>e||e>1e6)&&(console.error(new RangeError("Size must be between 1 and 1000000. Default size of 300 is used instead.")),e=300);var i=n(),u=i.createGain(),s=i.createAnalyser(),a=new Uint8Array(e),d=null,c=0,l=0,f=1;u.connect(s),s.connect(i.destination),this.load=function(e){var n=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],u=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3];if(!/(.m4a|.mp3|.wav|.wma)/i.test(e)){var a=e.split(".").reverse();return void console.error(new Error("File format '."+a[0]+"' is not supported. Unable to decode audio data."))}r();var d=new XMLHttpRequest;d.open("GET",e,!0),d.responseType="arraybuffer",d.onload=function(){124===d.response.byteLength?console.error(new Error("'"+e+"' is not found. Unable to decode audio data.")):i.decodeAudioData(d.response,function(e){o(e,u,s,0),n||t.pause()})},d.send()},this.play=function(){"suspended"==i.state&&i.resume()},this.pause=function(){"running"==i.state&&i.suspend()},this.getDuration=function(){return null==d?void console.error(new Error("Source is not loaded yet.")):d.buffer.duration},this.getCurrentTime=function(){return null==d?void console.error(new Error("Source is not loaded yet.")):c+i.currentTime-l},this.setCurrentTime=function(e){if(null==d)return void console.error(new Error("Source is not loaded yet."));if("number"!=typeof e)return void console.error(new Error("Time must be a number."));var n=d.buffer,t=d.onended;r(),o(n,t,e)},this.mute=function(){u.gain.value=0},this.unmute=function(){u.gain.value=f},this.getVolume=function(){return u.gain.value},this.setVolume=function(e){return"number"!=typeof e?void console.error(new Error("Volume must be a number.")):(f=e,void(u.gain.value=e))},this.getFreqData=function(){return s.getByteFrequencyData(a),a},this.destroy=function(){i.close&&i.close()}}e.exports=o}]);